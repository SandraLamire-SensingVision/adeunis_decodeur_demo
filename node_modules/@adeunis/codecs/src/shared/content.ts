namespace codec {
  export interface Content {
    type?: string;
    partialDecoding?: PartialDecodingReason;

    [key: string]: any;
  }

  export class ContentImpl implements Content {
    [key: string]: any;

    partialDecoding = PartialDecodingReason.NONE;

    constructor(public type: string = 'Unknown') {}

    static merge(...contents: Content[]) {
      if (!contents || contents.length === 0) {
        return null;
      }

      return Object.assign(new ContentImpl(contents[0].type), ...contents) as Content;
    }

    public merge(...contents: Content[]) {
      return ContentImpl.merge(this, ...contents);
    }
  }
}
