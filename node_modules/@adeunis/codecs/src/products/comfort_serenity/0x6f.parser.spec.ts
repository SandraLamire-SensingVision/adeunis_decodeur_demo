/// <reference path='0x6f.parser.ts' />

import { expect } from 'chai';
import 'mocha';

describe('ComfortSerenity0x6fParser', () => {
  let parser: codec.ComfortSerenity0x6fParser;

  beforeEach(() => {
    parser = new codec.ComfortSerenity0x6fParser();
  });

  it('should parse 6F8001B33E01A4012D', () => {
    const content = parser.parseFrame(Buffer.from('6F8001B33E01A4012D', 'hex'), Buffer.from(''), 'unknown');
    expect(content.type).to.equal('0x6f Comfort Serenity data');

    expect(content['temperature'].values[0]).to.equal(43.5);
    expect(content['humidity'].values[0]).to.equal(62);
    expect(content['co2'].values[0]).to.equal(420);
    expect(content['voc'].values[0]).to.equal(301);
  });
});
