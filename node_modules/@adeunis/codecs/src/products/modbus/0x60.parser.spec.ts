/// <reference path='0x60.parser.ts' />

import { expect } from 'chai';
import 'mocha';

describe('Modbus0x60Parser', () => {
  let parser: codec.Modbus0x60Parser;

  beforeEach(() => {
    parser = new codec.Modbus0x60Parser();
  });

  it('should parse 60023f9e041840161e4f', () => {
    const content = parser.parseFrame(Buffer.from('60023f9e041840161e4f', 'hex'), Buffer.from(''), 'unknown');
    expect(content.type).to.equal('0x60 Modbus data (float)');
    expect(content['registerValues'][0]).to.equal(1.2344999313354492);
    expect(content['registerValues'][1]).to.equal(2.345599889755249);
  });
});
