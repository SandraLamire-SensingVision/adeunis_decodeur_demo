namespace codec {
  /**
   * Modbus 0x62 (historic data) frame parser
   */
  export class Modbus0x62Parser implements FrameParser {
    readonly deviceType = 'modbus';
    readonly frameCode = 0x62;

    public parseFrame(payload: Buffer, configuration: Buffer, network: Network) {
      const appContent: Content = { type: '0x62 Modbus data (uint32)' };

      const registers = [];

      for (let offset = 2; offset < payload.length; offset += 4) {
        registers.push(payload.readUInt32BE(offset));
      }

      appContent['registerValues'] = registers;

      return appContent;
    }
  }
}
