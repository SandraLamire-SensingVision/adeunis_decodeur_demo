namespace codec {
  /**
   * Modbus 0x4e (historic data) frame parser
   */
  export class Modbus0x5eParser implements FrameParser {
    readonly deviceType = 'modbus';
    readonly frameCode = 0x5e;

    public parseFrame(payload: Buffer, configuration: Buffer, network: Network) {
      const appContent: Content = { type: '0x5e Modbus read registers' };

      const registers = [];

      for (let offset = 2; offset < payload.length; offset += 2) {
        registers.push(payload.readUInt16BE(offset));
      }

      appContent['registerUint16Values'] = registers;

      return appContent;
    }
  }
}
