namespace codec {
  /**
   * Modbus 0x61 (historic data) frame parser
   */
  export class Modbus0x61Parser implements FrameParser {
    readonly deviceType = 'modbus';
    readonly frameCode = 0x61;

    public parseFrame(payload: Buffer, configuration: Buffer, network: Network) {
      const appContent: Content = { type: '0x61 Modbus data (float)' };

      const registers = [];

      for (let offset = 2; offset < payload.length; offset += 4) {
        registers.push(payload.readFloatBE(offset));
      }

      appContent['registerValues'] = registers;

      return appContent;
    }
  }
}
