namespace codec {
  /**
   * Modbus 0x10 (configuration) frame parser
   */
  export class Modbus0x10Parser implements FrameParser {
    readonly deviceType = 'modbus';
    readonly frameCode = 0x10;

    public parseFrame(payload: Buffer, configuration: Buffer, network: Network) {
      const appContent: Content = { type: '0x10 Modbus configuration' };

      appContent['transmissionPeriodKeepAlive'] = { unit: 's', value: payload.readUInt16BE(2) * 10 };
      appContent['transmissionPeriod1'] = { unit: 's', value: payload.readUInt16BE(4) * 10 };
      appContent['samplingPeriod'] = { unit: 's', value: payload.readUInt16BE(6) * 10 };
      appContent['modbusConfiguration'] = payload[8];
      appContent['supplyTime'] = { unit: 's', value: payload.readUInt16BE(9) / 10 };

      return appContent;
    }
  }
}
