namespace codec {
  /**
   * Modbus 0x4f (historic data) frame parser
   */
  export class Modbus0x5fParser implements FrameParser {
    readonly deviceType = 'modbus';
    readonly frameCode = 0x5f;

    public parseFrame(payload: Buffer, configuration: Buffer, network: Network) {
      const appContent: Content = { type: '0x5f Modbus data (int32)' };

      const registers = [];

      for (let offset = 2; offset < payload.length; offset += 4) {
        registers.push(payload.readInt32BE(offset));
      }
      appContent['registerValues'] = registers;

      return appContent;
    }
  }
}
