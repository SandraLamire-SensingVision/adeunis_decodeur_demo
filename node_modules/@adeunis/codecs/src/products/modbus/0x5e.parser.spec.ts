/// <reference path='0x5e.parser.ts' />

import { expect } from 'chai';
import 'mocha';

describe('Modbus0x5eParser', () => {
  let parser: codec.Modbus0x5eParser;

  beforeEach(() => {
    parser = new codec.Modbus0x5eParser();
  });

  it('should parse 5E0001B31000FFFF', () => {
    const content = parser.parseFrame(Buffer.from('5E0001B31000FFFF', 'hex'), Buffer.from(''), 'unknown');
    expect(content.type).to.equal('0x5e Modbus read registers');
    expect(content['registerUint16Values'][0]).to.equal(435);
    expect(content['registerUint16Values'][1]).to.equal(4096);
    expect(content['registerUint16Values'][2]).to.equal(65535);
  });
});
